<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ARHU299 – syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">ARHU299</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../src/syllabus.html" rel="" target="" aria-current="page">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../src/lecturenotes/index.html" rel="" target="">
 <span class="menu-text">Lecture Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../src/resources.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#arhu299-syllabus" id="toc-arhu299-syllabus" class="nav-link active" data-scroll-target="#arhu299-syllabus">ARHU299 Syllabus</a>
  <ul class="collapse">
  <li><a href="#course-summary" id="toc-course-summary" class="nav-link" data-scroll-target="#course-summary">Course Summary</a></li>
  <li><a href="#how-deep-will-we-go" id="toc-how-deep-will-we-go" class="nav-link" data-scroll-target="#how-deep-will-we-go">How Deep Will We Go?</a></li>
  <li><a href="#math-skills" id="toc-math-skills" class="nav-link" data-scroll-target="#math-skills">Math Skills</a></li>
  <li><a href="#programming-skills" id="toc-programming-skills" class="nav-link" data-scroll-target="#programming-skills">Programming Skills</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  <li><a href="#lecture-notes" id="toc-lecture-notes" class="nav-link" data-scroll-target="#lecture-notes">Lecture Notes</a></li>
  <li><a href="#class-policies" id="toc-class-policies" class="nav-link" data-scroll-target="#class-policies">Class Policies</a>
  <ul class="collapse">
  <li><a href="#my-expectations" id="toc-my-expectations" class="nav-link" data-scroll-target="#my-expectations">My Expectations</a></li>
  <li><a href="#attendance" id="toc-attendance" class="nav-link" data-scroll-target="#attendance">Attendance</a></li>
  <li><a href="#homework" id="toc-homework" class="nav-link" data-scroll-target="#homework">Homework</a></li>
  <li><a href="#extensions-and-excused-absences" id="toc-extensions-and-excused-absences" class="nav-link" data-scroll-target="#extensions-and-excused-absences">Extensions and Excused Absences</a></li>
  <li><a href="#plagiarism" id="toc-plagiarism" class="nav-link" data-scroll-target="#plagiarism">Plagiarism</a></li>
  <li><a href="#chatgptgenerative-ai" id="toc-chatgptgenerative-ai" class="nav-link" data-scroll-target="#chatgptgenerative-ai">ChatGPT/Generative “AI”</a></li>
  </ul></li>
  <li><a href="#grades" id="toc-grades" class="nav-link" data-scroll-target="#grades">Grades</a>
  <ul class="collapse">
  <li><a href="#distribution" id="toc-distribution" class="nav-link" data-scroll-target="#distribution">Distribution</a></li>
  </ul></li>
  <li><a href="#project-proposal" id="toc-project-proposal" class="nav-link" data-scroll-target="#project-proposal">Project Proposal</a>
  <ul class="collapse">
  <li><a href="#important-dates" id="toc-important-dates" class="nav-link" data-scroll-target="#important-dates">Important Dates</a></li>
  </ul></li>
  <li><a href="#how-to-succeed-in-this-class" id="toc-how-to-succeed-in-this-class" class="nav-link" data-scroll-target="#how-to-succeed-in-this-class">How to Succeed in This Class</a>
  <ul class="collapse">
  <li><a href="#asking-for-help" id="toc-asking-for-help" class="nav-link" data-scroll-target="#asking-for-help">Asking For Help</a></li>
  <li><a href="#using-resources" id="toc-using-resources" class="nav-link" data-scroll-target="#using-resources">Using Resources</a></li>
  <li><a href="#group-work" id="toc-group-work" class="nav-link" data-scroll-target="#group-work">Group Work</a></li>
  <li><a href="#food-sleep-and-exercise" id="toc-food-sleep-and-exercise" class="nav-link" data-scroll-target="#food-sleep-and-exercise">Food, Sleep, and Exercise</a></li>
  <li><a href="#mental-health" id="toc-mental-health" class="nav-link" data-scroll-target="#mental-health">Mental Health</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="arhu299-syllabus" class="level1">
<h1>ARHU299 Syllabus</h1>
<p>Syllabus for ARHU299: Machine Learning in Language and Art at the University of Maryland, College Park.</p>
<p>Last updated January 24, 2024.</p>
<p>Instructor: Omar Agha</p>
<p>TA: Utku Turk</p>
<section id="course-summary" class="level2">
<h2 class="anchored" data-anchor-id="course-summary">Course Summary</h2>
<p>In this course, you will learn how machine learning models read and write text, classify images, and more. This requires understanding some basic elements of linear algebra (vectors and matrices), calculus (the chain rule for derivatives), Python programming, and basic statistics. If you have not seen any of this before, you will learn the relevant tools along the way, in the context of solving applied problems, and with the aid of software that performs complex calculations for you.</p>
<p>This is a fast-paced class. There will be homework every week, and frequent in-class assignments. You will need to make a serious effort to learn about difficult technical topics. I assume you are here because you want to learn this material, and I will do everything I can to help you succeed.</p>
<p>We will work up from simple models to more complex ones. We will start with the simplest neural network architecture, the perceptron, and apply it to text classification tasks. After that, we will study deeper networks (multi layer perceptrons) that can be used for language modeling (predicting the next word).</p>
<p>By the end of the course, we will cover the basics of transformer models and convolutional neural networks. Transformers are the building blocks of language models like GPT, and convolutional NNs are used for classifying and generating images. Depending on the speed of your progress, we might also have time to discuss more advanced neural network architectures like latent diffusion models, which are behind powerful text-to-image generators like Stable Diffusion and Midjourney.</p>
</section>
<section id="how-deep-will-we-go" class="level2">
<h2 class="anchored" data-anchor-id="how-deep-will-we-go">How Deep Will We Go?</h2>
<p>Engineers and scientists who work on these topics usually do years of intense study in math and computer science before reaching proficiency. So it’s not realistic for us to go <em>that</em> deep in one semester.</p>
<p>Luckily, building simple text and image models (and maybe music generators) does not require as much expertise, only some Python skills and enough curiosity to figure things out on one’s own.</p>
</section>
<section id="math-skills" class="level2">
<h2 class="anchored" data-anchor-id="math-skills">Math Skills</h2>
<p>You will learn how to multiply matrices, use probability, and understand simple equations and graphs involving functions like <span class="math inline">\(\sin\)</span>, <span class="math inline">\(\cos\)</span>, and <span class="math inline">\(\log\)</span>. You will see how these concepts are actually applied in real-world problems.</p>
<p>Machine learning models use calculus (derivatives) under the hood, and you will learn the basics of how this works. But for the most part. we will rely on software to do those calculations for us.</p>
</section>
<section id="programming-skills" class="level2">
<h2 class="anchored" data-anchor-id="programming-skills">Programming Skills</h2>
<p>You will learn how to use the Python programming language, along with some Python libraries. The most important libraries are PyTorch and Numpy, for matrix math, and Pandas, for data processing. We will also use Matplotlib, Seaborn, and Plotly for plotting, and Pillow for image processing.</p>
<p>The basic Python concepts you will learn are functions, classes, lists, tuples, dictionaries, <code>for</code>-loops, list comprehensions, and <code>lambda</code> expressions.</p>
<p>If you want to get a head start on your Python journey, google all the unfamiliar terms in this section and read up.</p>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<p>There is no textbook, since I haven’t found one that fits the audience of this course. I will post optional resources (books, articles, and videos) in the lecture notes, and under the <a href="../src/resources.html">Resources</a> section of the course website.</p>
</section>
<section id="lecture-notes" class="level2">
<h2 class="anchored" data-anchor-id="lecture-notes">Lecture Notes</h2>
<p>I will post lecture notes within 48 hours after the relevant lecture. Lecture notes will usually not be available before class, so you must pay attention and take your own notes during class sessions.</p>
<p>All lecture notes will be posted under <a href="../src/lecturenotes/index.html">Lecture Notes</a>. I will also post code in the form of Python Notebooks on the website. You can open a copy in Google Colab to study and play with the code.</p>
</section>
<section id="class-policies" class="level2">
<h2 class="anchored" data-anchor-id="class-policies">Class Policies</h2>
<section id="my-expectations" class="level3">
<h3 class="anchored" data-anchor-id="my-expectations">My Expectations</h3>
<p>I will assume that you are here because you want to learn. This applies to all policies and requirements: I assume that you will come to class and complete the homework because you want to learn.</p>
<p>I will do my best to not waste your time, and to not impose any requirements on you that are unnecessary for your educational goals.</p>
</section>
<section id="attendance" class="level3">
<h3 class="anchored" data-anchor-id="attendance">Attendance</h3>
<p>Attendance is not directly graded. However, there will be frequent in-class assignments, and participation is a part of your grade. Also, missing class will make it hard to keep up. For this reason, poor attendance will generally lower your grade and prevent you from learning effectively.</p>
</section>
<section id="homework" class="level3">
<h3 class="anchored" data-anchor-id="homework">Homework</h3>
<p>In this class you will learn math, programming, and critical thinking skills by practicing them. Learning this material without practice is not possible.</p>
<p>I find that accepting late homework usually causes more students to fall behind, ultimately harming their grades and progress, even if it feels generous in the short term. So, <strong>late homework will not be accepted</strong> unless I have already granted you an extension.</p>
<p>We will mostly be coding in Google Colab. If you want to use another editor you can, but your submitted code must be in <code>.ipynb</code> format and it must run correctly in Colab. (So, make sure to upload your file in Colab and test it there.)</p>
</section>
<section id="extensions-and-excused-absences" class="level3">
<h3 class="anchored" data-anchor-id="extensions-and-excused-absences">Extensions and Excused Absences</h3>
<p>If you need an extension on any assignment, contact me <strong>before noon on the due date</strong>, and verify that I approve. (Better to reach out earlier than that if possible.)</p>
<p>If you need to be excused from class, contact me <strong>before that class starts</strong>.</p>
<p>If you are excused from class, I will let you know if there are any in-class assignments that you need to make up.</p>
</section>
<section id="plagiarism" class="level3">
<h3 class="anchored" data-anchor-id="plagiarism">Plagiarism</h3>
<p><a href="https://policies.umd.edu/academic-affairs/university-of-maryland-code-of-academic-integrity">The UMD Code of Academic Integrity</a> defines plagiarism as “representing the words or ideas of another as one’s own in any academic course, exercise or research”. If you copy text or code from any source, <strong>you must treat is as a quotation and provide the source</strong>. (You can either link to the source or provide a full bibliographic citation.)</p>
<p>Plagiarism on any assignment will result in a zero. Repeat plagiarists will be reported to the Office of Student Conduct.</p>
<p><strong>Copying work from another student is plagiarism</strong>, but group work is encouraged. All submitted work must be your own.</p>
</section>
<section id="chatgptgenerative-ai" class="level3">
<h3 class="anchored" data-anchor-id="chatgptgenerative-ai">ChatGPT/Generative “AI”</h3>
<p>Generative “AI” tools like ChatGPT or Bing produce text in a random process by sampling from the most likely next words.</p>
<p>They can be useful in certain contexts. However, the randomly generated text is often biased and false in subtle ways, and plagiarized from other sources. (This is because the model’s next-word-probabilities are derived from documents scraped from the internet.)</p>
<p><strong>Copying and pasting the output of generative AI on any assignment will be considered plagiarism.</strong> (See the above definition.)</p>
<p>If you choose to use generative AI to help with solving problems, that’s ok, but you must ensure that all submitted work is your own, and you are responsible for any errors. (Using ChatGPT or other software to edit your prose is also ok, especially if you are not a native speaker of English.)</p>
</section>
</section>
<section id="grades" class="level2">
<h2 class="anchored" data-anchor-id="grades">Grades</h2>
<section id="distribution" class="level3">
<h3 class="anchored" data-anchor-id="distribution">Distribution</h3>
<ul>
<li>50% homework</li>
<li>20% quizzes</li>
<li>10% participation (in person and on Discord)</li>
<li>20% project proposal</li>
</ul>
</section>
</section>
<section id="project-proposal" class="level2">
<h2 class="anchored" data-anchor-id="project-proposal">Project Proposal</h2>
<p>By the last day of class, please submit a 2-3 page project proposal. This can be for a product that you would like to create, or for a research project. In the proposal, please discuss in detail</p>
<ol type="1">
<li><p>how you would use the technologies we cover in class, (5%)</p></li>
<li><p>what you think the most challenging components would be, (5%)</p></li>
<li><p>what the likely social impact of the project would be. (5%)</p></li>
</ol>
<p>You don’t need to turn in any working code. (You are welcome to do so, and you won’t be graded on the code, only the proposal.)</p>
<section id="important-dates" class="level3">
<h3 class="anchored" data-anchor-id="important-dates">Important Dates</h3>
<p>Before Mar 14, please schedule a meeting with me to talk through project ideas.</p>
<ul>
<li>Mar 14: Turn in one paragraph on your project proposal. If you have multiple ideas, do a short paragraph for each.</li>
<li>Apr 11: Turn in a half page, more fleshed out version. Start to include some details about technologies, challenges, and/or social impact. (Worth 5% out of the full 20%.)</li>
<li>May 7: Final due date for project proposal.</li>
</ul>
</section>
</section>
<section id="how-to-succeed-in-this-class" class="level2">
<h2 class="anchored" data-anchor-id="how-to-succeed-in-this-class">How to Succeed in This Class</h2>
<section id="asking-for-help" class="level3">
<h3 class="anchored" data-anchor-id="asking-for-help">Asking For Help</h3>
<p>Your success is very important to me. I (or the TA) will answer your emails promptly (within 24 hours) and make time to meet with you if you need extra help.</p>
<p>If you need help, please contact me ASAP. Often, students fail because they wait too long to ask for help, and then fall too far behind to catch up. Don’t let this happen to you!</p>
</section>
<section id="using-resources" class="level3">
<h3 class="anchored" data-anchor-id="using-resources">Using Resources</h3>
<p>If you find yourself struggling to understand something, try re-reading the lecture notes or re-watching the assigned videos. Ideas often take multiple tries to click.</p>
<p>I will link to helpful videos and articles in my lecture notes. Don’t forget to use them!</p>
</section>
<section id="group-work" class="level3">
<h3 class="anchored" data-anchor-id="group-work">Group Work</h3>
<p>Group work is highly encouraged. Please try to find a study group early on, and try to meet up for each homework. I’ll make a Discord chat for the class to help you all collaborate. As a reminder, copying code or prose directly from other students is plagiarism, so please make sure that all submitted work is your own.</p>
</section>
<section id="food-sleep-and-exercise" class="level3">
<h3 class="anchored" data-anchor-id="food-sleep-and-exercise">Food, Sleep, and Exercise</h3>
<p>Taking care of yourself is the foundation for all success in life. Make sure you come to class well-rested, nourished, and ready to learn. (If you need to eat or drink beverages in class, that’s fine with me.)</p>
</section>
<section id="mental-health" class="level3">
<h3 class="anchored" data-anchor-id="mental-health">Mental Health</h3>
<p>If mental health challenges are keeping you from doing your best, the university provides <a href="https://counseling.umd.edu/">Counseling</a> and <a href="https://health.umd.edu/behavioral-health">Behavioral Health Services</a>. The earlier you reach out, the more you can benefit from these resources.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>